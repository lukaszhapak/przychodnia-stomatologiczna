<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <meta charset="UTF-8">
</head>
<body>
<div th:insert="fragments/receptionistTopBar.html"></div>
<div class="container">
    <h1>Umów się na wizytę: </h1>
    <form method="post" th:action="@{'/receptionist/visit/register/add/'+${visitsCalendar.getId()}}" th:object="${visitsCalendar}">
        <table>
            <tr>
                <td>Data: </td>
                <td><input type="text" th:value="${#temporals.format(visitsCalendar.getDate(),'dd-MM-yyyy')}" name="date" id="date" readonly></td>
            </tr>
            <tr>
                <td>Godzina rozpoczęcia: </td>
                <td><input type="text" th:field="*{start}" readonly></td>
            </tr>
            <tr>
                <td>Godzina zakończenia:</td>
                <td><input type="text" th:field="*{end}" readonly></td>
            </tr>
            <tr>
                <td> Lekarz:</td>
                <td><input type="text" th:value="${visitsCalendar.getDoctor().getLastName()} + ' '+ ${visitsCalendar.getDoctor().getFirstName()}" name="doctor" id="doctor" readonly></td>
            </tr>
            <tr>
                <td> Pacjent:</td>
                <td> <select name="patient" id="patient" required>
                    <option value="" disabled selected>Wybierz pacjenta</option>
                    <th:block th:each="patient : ${patientList}">
                        <option th:text="${patient.getFirstName()}+' '+${patient.getLastName()}"
                                th:value="${patient.getId()}"></option>
                    </th:block>
                </select>
                </td>
            </tr>
        </table>
        <input type="submit" value="Potwierdź">
    </form>
</div>
</body>
</html>